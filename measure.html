<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>FocusManager - ì§‘ì¤‘ ì¸¡ì •</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/themify-icons@0.1.2/css/themify-icons.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  



<header class="page-header text-center">
  <div class="container">
    <h1 class="header-title">Focus Timer</h1>
  </div>
</header>


  
  <style>
html, body {
  overflow-x: hidden;
}




    /* Gradient Header matching index.html */
    .page-header {
    background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
    padding: 0.8rem 0;
    }
    .page-header .header-title {
    color: #fff;
    font-weight: bold;
    font-size: 2rem;
    }
    /* Timer Card */
    .timer-card {
    max-width: 400px;
    margin: -2rem auto 2rem;  /* lifts it over the header */
    background: #fff;
    border-radius: .5rem;
    }
    .control-btn {
    width: 100px;
    }


    body { background-color: #f8f9fa; font-family: 'Segoe UI', sans-serif; }
    .card { border: none; border-radius: 1rem; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
    #timer-display { font-size: 2.5rem; font-weight: bold; }
    #timer-display.pulse { animation: pulse 1s infinite; }
    @keyframes pulse {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.1); opacity: 0.7; }
      100% { transform: scale(1); opacity: 1; }
    }

    /* ì±—ë´‡ ìŠ¤íƒ€ì¼ */
    #chatbot-toggle { position: fixed; bottom: 20px; right: 20px; z-index: 9999; }
    #chatbot {
      position: fixed; bottom: 70px; right: 20px; width: 320px; max-height: 500px;
      display: none; flex-direction: column; background: #fff;
      border-radius: 12px; border: 1px solid #ccc;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1); overflow: hidden;
    }
    #chatbot-messages {
      flex: 1; padding: 10px; overflow-y: auto;
      display: flex; flex-direction: column;
    }
    .bubble {
      max-width: 75%; padding: 8px 12px; margin: 4px 0;
      border-radius: 18px; line-height: 1.4;
    }
    .user { background-color: #007bff; color: white; align-self: flex-end; border-bottom-right-radius: 0; }
    .bot { background-color: #e9ecef; color: black; align-self: flex-start; border-bottom-left-radius: 0; }
    .faq-btn {
      font-size: 13px; margin: 4px; padding: 5px 10px;
      border: 1px solid #ccc; border-radius: 20px; background: white; cursor: pointer;
    }

    /* ì±—ë´‡ FAQ ë²„íŠ¼ ìŠ¤íƒ€ì¼ (ìƒˆë¡œìš´ í´ë˜ìŠ¤ì— ì ìš©) */
    .chatbot-faq-btn { /* ì´ì „ì˜ .faq-btn ìŠ¤íƒ€ì¼ì„ ì´ í´ë˜ìŠ¤ì— ì ìš© */
      font-size: 13px; margin: 4px; padding: 5px 10px;
      border: 1px solid #ccc; border-radius: 20px; background: white; cursor: pointer;
    }
/* style ë¸”ë¡ ë§¨ ì•„ë˜ì— ì¶”ê°€ */
.navbar {
  z-index: 10002;
}
/* ì‚¬ìš©ë°©ë²• íŒì—… â€“ ì±—ë´‡ê³¼ ë™ì¼í•œ ìœ„ì¹˜Â·ë””ìì¸ */
#usage-panel {
  position: fixed;
  bottom: 70px;      /* ì±—ë´‡ íŒíŠ¸ì™€ ê°™ì€ ë†’ì´ */
  left: 20px;        /* ì±—ë´‡ í† ê¸€ê³¼ ë™ì¼í•œ ì¢Œì¸¡ ë§ˆì§„ */
  width: 320px;      /* ì±—ë´‡ ê°€ë¡œ ë„ˆë¹„ì™€ ë™ì¼ */
  max-height: 500px; /* ì±—ë´‡ ë†’ì´ì™€ ë™ì¼ */
  display: none;     /* .open í´ë˜ìŠ¤ì—ì„œ flexë¡œ ì „í™˜ */
  flex-direction: column;
  background: #fff;
  border-radius: 12px;
  border: 1px solid #ccc;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  overflow: hidden;
  z-index: 9999;
}
#usage-panel.open {
  display: flex;
}

#usage-panel .close-btn {
  position: absolute;
  top: 10px; right: 10px;
  font-size: 1.5rem;
  background: none; border: none;
  cursor: pointer; color: #555;
}
/* í† ê¸€ ë²„íŠ¼ ìœ„ì¹˜ */
#usage-toggle {
  position: fixed;
  bottom: 20px;
  left: 20px;
  z-index: 9999;
}
/* ì²´í¬ë¦¬ìŠ¤íŠ¸ ì•„ì´ì½˜ */
#usage-panel .card-body ul li::before {
  content: "âœ”ï¸ ";
  color: #2a5298;
}
.navbar {
  padding-top: 1rem;
  padding-bottom: 1rem;
}
.navbar .navbar-brand {
  margin-right: 1.5rem;  /* report.html ìª½ ê°„ê²©ê³¼ ë¹„ìŠ·í•˜ê²Œ */
}




  </style>
</head>
<body>

<!-- Navbar -->
  <nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-transparent">
    <div class="container">
      <a class="navbar-brand" href="index.html">FocusManager</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent">
        <span class="navbar-toggler-icon"></span>
      </button>

      <a class="navbar-brand" href="report.html">Report</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent">
        <span class="navbar-toggler-icon"></span>
      </button>

    
    </div>
  </nav>

<button id="usage-toggle" class="btn btn-primary">ì‚¬ìš©ë°©ë²•</button>
<div id="usage-panel">
  <button class="close-btn">&times;</button>
  <div class="card h-100">
    <div class="card-body">
      <h5 class="card-title">ì‚¬ìš©ë°©ë²•</h5>
      <ul>
        <li>ğŸ“˜ ë¨¼ì € â€˜ë¬´ì—‡ì„ ê³µë¶€í•˜ë‚˜ìš”?â€™ì—ì„œ í™œë™ì„ ì„ íƒí•˜ì„¸ìš”.</li>
        <li>ğŸ“ â€˜ì–´ë””ì„œ ê³µë¶€í•˜ë‚˜ìš”?â€™ì—ì„œ ì¥ì†Œë¥¼ ì„ íƒí•˜ì„¸ìš”.</li>
        <li>ì‹œì‘ ë²„íŠ¼ì„ ëˆŒëŸ¬ íƒ€ì´ë¨¸ë¥¼ ì‹œì‘í•˜ì„¸ìš”.</li>
        <li>ì¤‘ë‹¨ ë²„íŠ¼ìœ¼ë¡œ ì¼ì‹œ ì¤‘ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
        <li>ì´ˆê¸°í™” ë²„íŠ¼ìœ¼ë¡œ ê¸°ë¡ì„ ì €ì¥í•˜ê³  ì´ˆê¸°í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
        <li>í•˜ë‹¨ ë¡œê·¸ì—ì„œ ì„¸ì…˜ ê¸°ë¡ì„ í™•ì¸í•˜ì„¸ìš”.</li>
        
      </ul>
    </div>
  </div>
</div>






<div class="container" style="max-width: 480px; margin-top: 30px;">

  <!-- ğŸ“˜ ë¬´ì—‡ì„ ê³µë¶€í•˜ë‚˜ìš” -->
  <div class="card mb-4 p-3 shadow-sm">
    <label class="mb-2"><strong>ğŸ“˜ ë¬´ì—‡ì„ ê³µë¶€í•˜ë‚˜ìš”?</strong></label>
    <div id="activity-buttons" class="d-flex flex-wrap gap-2">
      <div id="activity-buttons" style="margin-top:5px; text-align:center;">
        <button onclick="changeActivity('í•™ì—…')" class="activity-btn faq-btn">ğŸ“˜ í•™ì—…</button>
        <button onclick="changeActivity('ìê²©ì¦')" class="activity-btn faq-btn">ğŸ“œ ìê²©ì¦</button>
        <button onclick="changeActivity('ì½”ë”©')" class="activity-btn faq-btn">ğŸ’» ì½”ë”©</button>
        <button onclick="changeActivity('ë…¼ë¬¸ì‘ì„±')" class="activity-btn faq-btn">ğŸ“ ë…¼ë¬¸ì‘ì„±</button>
    </div>
    </div>
    <input id="input-activity" type="text" readonly class="form-control mt-2" placeholder="ì„ íƒí•´ì£¼ì„¸ìš”">
    <button onclick="addActivity()" class="btn btn-light border btn-xs mt-2 px-2 py-1" style="font-size: 12px;">
      ï¼‹ í™œë™ ì¶”ê°€
    </button>
  </div>

  <!-- ğŸ“ ì–´ë””ì„œ ê³µë¶€í•˜ë‚˜ìš” -->
  <div class="card mb-4 p-3 shadow-sm">
    <label class="mb-2"><strong>ğŸ“ ì–´ë””ì„œ ê³µë¶€í•˜ë‚˜ìš”?</strong></label>
    <div id="location-buttons" class="d-flex flex-wrap gap-2">
      <div id="location-buttons" style="margin-top:5px; text-align:center;">
        <button onclick="changeLocation('ì§‘')" class="location-btn faq-btn">ğŸ  ì§‘</button>
        <button onclick="changeLocation('ì¹´í˜')" class="location-btn faq-btn">â˜• ì¹´í˜</button>
        <button onclick="changeLocation('ë„ì„œê´€')" class="location-btn faq-btn">ğŸ“š ë„ì„œê´€</button>
        <button onclick="changeLocation('ìŠ¤í„°ë””ë£¸')" class="location-btn faq-btn">ğŸ‘¥ ìŠ¤í„°ë””ë£¸</button>
    </div>
    </div>
    <input id="input-location" type="text" readonly class="form-control mt-2" placeholder="ì„ íƒí•´ì£¼ì„¸ìš”">
    <button onclick="addLocation()" class="btn btn-light border btn-xs mt-2 px-2 py-1" style="font-size: 12px;">
      ï¼‹ ì¥ì†Œ ì¶”ê°€
    </button>
  </div>

</div>


    


  <div style="text-align:center;">
    <div id="timer-display" style="font-size:1.8rem; margin-bottom:10px;" class="pulse">00:00</div>
    <button id="btn-start" class="btn btn-primary btn-sm">ì‹œì‘</button>
    <button id="btn-pause" class="btn btn-secondary btn-sm" disabled>ì¤‘ë‹¨</button>
    <button id="btn-reset" class="btn btn-warning btn-sm" disabled>ì´ˆê¸°í™”</button>
  </div>
  
</div>

<div id="session-log" style="max-width:480px; margin:20px auto; padding:15px; border-top:1px solid #ccc; font-size:14px; color:#333; background:#fff; border-radius:8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);"></div>


  <!-- ì±—ë´‡ í† ê¸€ ë²„íŠ¼ -->
  <button id="chatbot-toggle" class="btn btn-primary">ì±—ë´‡ ì—´ê¸°</button>
    <div id="chatbot-hint" style="
        position: fixed;
        bottom: 70px;
        right: 20px;
        background: #fffbe6;
        border: 1px solid #ffe58f;
        color: #d48806;
        border-radius: 12px;
        padding: 10px 14px;
        font-size: 13px;
        font-family: 'Comic Sans MS', 'Apple SD Gothic Neo', cursive;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        z-index: 9998;
        max-width: 180px;
        ">
        ğŸ’¡ ì§‘ì¤‘ì´ ì•ˆë¼?
    </div>

    <!-- ì‚¬ìš©ë°©ë²• íŒíŠ¸ -->
<div id="usage-hint" style="
    position: fixed;
    bottom: 70px;
    left: 20px;
    background: #fffbe6;
    border: 1px solid #ffe58f;
    color: #d48806;
    border-radius: 12px;
    padding: 10px 14px;
    font-size: 13px;
    font-family: 'Comic Sans MS','Apple SD Gothic Neo',cursive;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    z-index: 9998;
    max-width: 180px;
">
  â„¹ï¸ ì‚¬ìš©ë°©ë²•ì€ ì—¬ê¸°!
</div>


  <!-- ì±—ë´‡ UI -->
  <div id="chatbot">
    <div id="chatbot-messages"></div>
    <div style="display:flex; border-top:1px solid #ddd;">
      <input id="chat-input" type="text" placeholder="ë©”ì‹œì§€ ì…ë ¥..." style="flex:1; border:none; padding:10px;">
      <button id="chat-send" style="padding:10px; background:#007bff; color:white; border:none;">ì „ì†¡</button>
    </div>
    <div style="padding:8px; display:flex; flex-wrap:wrap; border-top:1px solid #eee;">
      <button class="chatbot-faq-btn">ìŠ¤íŠ¸ë ˆì¹­ ë°©ë²• ì•Œë ¤ì¤˜</button>
      <button class="chatbot-faq-btn">ëˆˆ í”¼ë¡œ íšŒë³µë²• ì•Œë ¤ì¤˜</button>
      <button class="chatbot-faq-btn">ì¢‹ì€ ê³µë¶€ ë£¨í‹´</button>
      <button class="chatbot-faq-btn">ì·¨ì¤€ ëª…ì–¸</button>
      <button class="chatbot-faq-btn">ë™ê¸°ë¶€ì—¬ ì‹œì¼œì¤˜</button>
      <button class="chatbot-faq-btn">ë¶€ì—‰ì´ê°€ ë¬¼ì— ë¹ ì§€ë©´?</button>
    </div>

  </div>

  <script>
    function addActivity() {
    const newActivity = prompt("ì¶”ê°€í•  í™œë™ëª…ì„ ì…ë ¥í•˜ì„¸ìš”:");
    if (newActivity && newActivity.trim() !== "") {
        const btn = document.createElement("button");
        btn.className = "activity-btn faq-btn";
        btn.textContent = newActivity;
        btn.onclick = () => changeActivity(newActivity);
        document.getElementById("activity-buttons").appendChild(btn);
    }
    }

    function addLocation() {
    const newLocation = prompt("ì¶”ê°€í•  ì¥ì†Œëª…ì„ ì…ë ¥í•˜ì„¸ìš”:");
    if (newLocation && newLocation.trim() !== "") {
        const btn = document.createElement("button");
        btn.className = "location-btn faq-btn";
        btn.textContent = newLocation;
        btn.onclick = () => changeLocation(newLocation);
        document.getElementById("location-buttons").appendChild(btn);
    }
    }



    //ã…‡ã…‡
    let timerInterval;
  let totalSeconds = 0;
  const sessions = [];
  let currentSession = null;

  function pad(n) { return n < 10 ? '0' + n : '' + n; }
  function formatTime(sec) {
    const m = Math.floor(sec / 60), s = sec % 60;
    return pad(m) + ':' + pad(s);
  }
  function updateDisplay() {
    document.getElementById('timer-display').textContent = formatTime(totalSeconds);
  }
  function updateLog() {
    const log = document.getElementById('session-log');
    if (sessions.length === 0) return log.innerHTML = '<em>ê¸°ë¡ ì—†ìŒ</em>';
    const base = sessions[0].start;
    log.innerHTML = sessions.map((s, idx) => {
      const startSec = Math.floor((s.start - base) / 1000);
      const endSec = s.end ? Math.floor((s.end - base) / 1000) : totalSeconds;
      const safeEnd = Math.max(startSec + 1, endSec);
      return `<div style='margin-bottom:6px; padding:6px 10px; background:#f1f3f5; border-radius:6px;'>
        <strong>${formatTime(startSec)} ~ ${formatTime(safeEnd)}</strong><br>
        ğŸ“˜ ${s.activity}, ğŸ“ ${s.location}
      </div>`;
    }).join('');
  }

  function changeActivity(value) {
    const input = document.getElementById('input-activity');
    if (input.value !== value) input.value = value;
    if (currentSession) {
      const now = new Date();
      currentSession.end = now;
      updateLog();
      currentSession = { activity: value, location: document.getElementById('input-location').value || 'ê¸°ë³¸ì¥ì†Œ', start: now };
      sessions.push(currentSession);
    }
  }

  function changeLocation(value) {
    const input = document.getElementById('input-location');
    if (input.value !== value) input.value = value;
    if (currentSession) {
      const now = new Date();
      currentSession.end = now;
      updateLog();
      currentSession = { activity: document.getElementById('input-activity').value || 'ê³µë¶€', location: value, start: now };
      sessions.push(currentSession);
    }
  }

document.getElementById('btn-start').addEventListener('click', () => {
    
    const activity = document.getElementById('input-activity').value.trim();
  const location = document.getElementById('input-location').value.trim();

  // âœ… ìœ íš¨ì„± ê²€ì‚¬
  if (!activity || !location) {
    alert("í™œë™ê³¼ ì¥ì†Œë¥¼ ëª¨ë‘ ì„ íƒí•´ì£¼ì„¸ìš”");
    return;
  }

  const start = new Date();
  document.getElementById('btn-start').disabled = true;
  document.getElementById('btn-pause').disabled = false;
  document.getElementById('btn-reset').disabled = false;
  totalSeconds = 0;
  updateDisplay();
  timerInterval = setInterval(() => {
    totalSeconds++;
    updateDisplay();
    updateLog();
  }, 1000);

  currentSession = { activity, location, start };
  sessions.push(currentSession);
  document.getElementById('timer-display').classList.add('pulse');
});


  document.getElementById('btn-pause').addEventListener('click', () => {
    clearInterval(timerInterval);
    const now = new Date();
    if (currentSession) {
      currentSession.end = now;
      currentSession.duration = Math.floor((now - currentSession.start) / 1000);
      currentSession = null;
    }
    updateLog();
    document.getElementById('btn-start').disabled = false;
    document.getElementById('btn-pause').disabled = true;
    document.getElementById('timer-display').classList.remove('pulse');
  });

  document.getElementById('btn-reset').addEventListener('click', () => {
  clearInterval(timerInterval);
  totalSeconds = 0;
  updateDisplay();
  document.getElementById('btn-start').disabled = false;
  document.getElementById('btn-pause').disabled = true;
  document.getElementById('btn-reset').disabled = true;
  document.getElementById('timer-display').classList.remove('pulse');

  const addr = 'https://script.google.com/macros/s/AKfycbxgR0K_MM9-PRbQeLYAYNRvtHQS1zOIOn7BTB2S1Z-uE5ZmWKZJwetnhzTG7hvaq-n_XA/exec';

  if (sessions.length > 0) {
    sessions.forEach(s => {
      const record = JSON.stringify({
        activity: s.activity,
        location: s.location,
        start: s.start.toISOString().slice(0,19).replace('T',' '),
        end: s.end ? s.end.toISOString().slice(0,19).replace('T',' ') : '',
        duration: s.duration || ''
      });

      $.ajax({
        url: addr + '?action=insert&table=timer&data=' + encodeURIComponent(record),
        dataType: 'jsonp',
        success: () => console.log('âœ… ì €ì¥ ì„±ê³µ:', record),
        error: () => console.error('âŒ ì €ì¥ ì‹¤íŒ¨:', record)
      });
    });
  }

  // ê¸°ë¡ ì´ˆê¸°í™”
  sessions.length = 0;
  currentSession = null;
  updateLog();
});


  updateDisplay();

    // ì±—ë´‡
    function getSmartBotReply(msg) {
      const text = msg.toLowerCase();
      if (text.includes('ìŠ¤íŠ¸ë ˆì¹­')) return 'ëª©â†’ì–´ê¹¨â†’ë‹¤ë¦¬ ìˆœì„œë¡œ 3ë¶„ê°„ ì²œì²œíˆ ìŠ¤íŠ¸ë ˆì¹­ í•´ë³´ì„¸ìš”!';
      if (text.includes('ëˆˆ') && text.includes('í”¼ë¡œ')) return '20-20-20 ë²•ì¹™: 20ë¶„ë§ˆë‹¤ 20ì´ˆê°„ 6m ê±°ë¦¬ ì‘ì‹œ!';
      if (text.includes('ë£¨í‹´')) return 'Pomodoro ë£¨í‹´: 25ë¶„ ì§‘ì¤‘ â†’ 5ë¶„ íœ´ì‹, 4íšŒ ë°˜ë³µ í›„ ê¸´ íœ´ì‹ ì¶”ì²œ!';
      if (text.includes('ì¤€ë¹„') || text.includes('ê³µë¶€ ì „')) return 'ìë¦¬ ì •ë¦¬ + ë¬¼ ë§ˆì‹œê¸° + ì˜¤ëŠ˜ ëª©í‘œ í™•ì¸ì´ ì¢‹ì•„ìš”.';
      if (text.includes('ì´ˆê¸°í™”') || text.includes('íƒ€ì´ë¨¸')) return '[ì´ˆê¸°í™”] ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë©ë‹ˆë‹¤!';

      if (text.includes('ë¶€ì—‰ì´ê°€ ë¬¼ì— ë¹ ì§€ë©´?')) return 'ì²¨ë¶€ì—‰...ì²¨ë¶€ì—‰...';
      if (text.includes('ì•ˆë…•')) return 'ì•ˆë…•í•˜ì„¸ìš”';
      if (text.includes('í•˜ì´')) return 'HI';
      if (text.includes('ã…‡')) return 'ã…‡';
      if (text.includes('ì§‘ì¤‘')) return 'ì§‘ì¤‘í•˜ì„¸ìš”';
      
      return 'ì£„ì†¡í•´ìš”. ì•„ì§ í•™ìŠµë˜ì§€ ì•Šì€ ì§ˆë¬¸ì´ì—ìš”!';
    }

    function addMessage(text, type) {
      const msgBox = document.createElement('div');
      msgBox.className = `bubble ${type}`;
      msgBox.textContent = text;
      document.getElementById('chatbot-messages').appendChild(msgBox);
      document.getElementById('chatbot-messages').scrollTop = document.getElementById('chatbot-messages').scrollHeight;
    }

    function handleUserMessage(msg) {
    addMessage(msg, 'user');

    const thinking = document.createElement('div');
    thinking.className = 'bubble bot';
    thinking.textContent = '...';
    document.getElementById('chatbot-messages').appendChild(thinking);

// âœ… ì§§ì€ ì…ë ¥ì— ëŒ€í•œ ìë™ ì‘ë‹µ + í‚¤ì›Œë“œë³„ í•œ ì¤„ ëª…ì–¸ ì¶œë ¥
const len = [...msg.trim()].length;
const isKorean = /[ê°€-í£]/.test(msg);
const isTooShort = isKorean ? len <= 5 : len <= 10;

// ë™ê¸°ë¶€ì—¬ ëª…ì–¸ ë¦¬ìŠ¤íŠ¸
const motivationQuotes = [
  "â€œí•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í•˜ë“ , í•  ìˆ˜ ì—†ë‹¤ê³  ìƒê°í•˜ë“  ë‹¹ì‹ ì€ ì˜³ë‹¤.â€ â€“ í—¨ë¦¬ í¬ë“œ",
  "â€œë‹¹ì‹ ì´ í•  ìˆ˜ ìˆë‹¤ê³  ë¯¿ìœ¼ë©´ ì´ë¯¸ ë°˜ì€ ì˜¨ ê²ƒì´ë‹¤.â€ â€“ ì‹œì–´ë„ì–´ ë£¨ì¦ˆë²¨íŠ¸",
  "â€œì„±ê³µì€ ìµœì„ ì„ ë‹¤í•œ ì‘ì€ ìŠµê´€ë“¤ì´ ëª¨ì—¬ ë§Œë“¤ì–´ì§„ë‹¤.â€ â€“ ë¡­ ë²„íŠ¸",
  "â€œë‚˜ëŠ” ì‹¤íŒ¨í•œ ì ì´ ì—†ë‹¤. ë‹¨ì§€ ì˜ëª»ë˜ëŠ” ë°©ë²• 1ë§Œ ê°€ì§€ë¥¼ ì°¾ì•„ëƒˆì„ ë¿ì´ë‹¤.â€ â€“ í† ë¨¸ìŠ¤ ì—ë””ìŠ¨",
  "â€œìœ„ëŒ€í•œ ê²ƒì€ í•œ ë²ˆì— ì´ë£¨ì–´ì§€ì§€ ì•ŠëŠ”ë‹¤. í•œ ê±¸ìŒì”© ë‚˜ì•„ê°€ë¼.â€ â€“ ë¹ˆìŠ¤ ë¡¬ë°”ë¥´ë””",
  "â€œí¬ê¸°í•˜ì§€ ì•ŠëŠ” ìë§Œì´ ëì— ë¯¸ì†Œ ì§€ì„ ìˆ˜ ìˆë‹¤.â€ â€“ ìœŒë¦¬ì—„ ì…°ìµìŠ¤í”¼ì–´",
  "â€œì§€ê¸ˆì˜ ë…¸ë ¥ì´ ë‚´ì¼ì˜ ê¸°íšŒë¥¼ ë§Œë“ ë‹¤.â€ â€“ ë¯¸ìƒ",
  "â€œì–´ì œë³´ë‹¤ ì„±ì¥í–ˆë‹¤ë©´, ì˜¤ëŠ˜ì€ ì¶©ë¶„íˆ ì˜í•˜ê³  ìˆëŠ” ê²ƒì´ë‹¤.â€ â€“ ë¯¸ìƒ"
];

// ì·¨ì¤€ ëª…ì–¸ ë¦¬ìŠ¤íŠ¸
const jobQuotes = [
  "â€œì¤€ë¹„ê°€ ëë‚˜ë©´ ê¸°íšŒê°€ ì˜¨ë‹¤.â€ â€“ ì„¸ë„¤ì¹´",
  "â€œë¶ˆê°€ëŠ¥í•˜ë‹¤ê³  ëŠê»´ì§ˆ ë•Œê°€ ë°”ë¡œ ì‹œì‘í•  ìˆœê°„ì´ë‹¤.â€ â€“ ì°°ìŠ¤ ë””í‚¨ìŠ¤",
  "â€œê¸°íšŒëŠ” ì¤€ë¹„ëœ ì‚¬ëŒì—ê²Œë§Œ ì˜¨ë‹¤.â€ â€“ ë£¨ì´ íŒŒìŠ¤í‡´ë¥´",
  "â€œì‹¤íŒ¨ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ë§ê³ , ë„ì „í•˜ëŠ” ìì‹ ì„ ë¯¿ì–´ë¼.â€ â€“ ë„¬ìŠ¨ ë§Œë¸ë¼",
  "â€œì˜¤ëŠ˜ì˜ ì‘ì€ ë…¸ë ¥ë“¤ì´ ë‚´ì¼ì˜ ì¼ìë¦¬ë¥¼ ë§Œë“ ë‹¤.â€ â€“ ë¯¸ìƒ",
  "â€œí•œ ë²ˆì˜ ë©´ì ‘ì´ ëì´ ì•„ë‹ˆë‹¤. ê³„ì† ë„ì „í•˜ë¼.â€ â€“ ë¯¸ìƒ",
  "â€œë‹¹ì‹ ì´ ë©ˆì¶”ì§€ ì•ŠëŠ” í•œ, ì ˆëŒ€ ë’¤ì²˜ì§€ì§€ ì•ŠëŠ”ë‹¤.â€ â€“ ë¯¸ìƒ",
  "â€œì„±ê³µì€ ìš©ê¸° ìˆëŠ” ìì˜ ê²ƒì´ë‹¤.â€ â€“ ìœˆìŠ¤í„´ ì²˜ì¹ "
];

// ë©”ì‹œì§€ì— í‚¤ì›Œë“œê°€ í¬í•¨ëëŠ”ì§€ ê²€ì‚¬
const contains = kw => msg.includes(kw);

setTimeout(() => {
  thinking.remove();

  if (contains("ë™ê¸°ë¶€ì—¬")) {
    // í•œ ì¤„ ë™ê¸°ë¶€ì—¬ ëª…ì–¸ ëœë¤ ì„ íƒ
    const quote = motivationQuotes[
      Math.floor(Math.random() * motivationQuotes.length)
    ];
    addMessage(quote, 'bot');
  }
  else if (contains("ì·¨ì¤€")) {
    // í•œ ì¤„ ì·¨ì¤€ ëª…ì–¸ ëœë¤ ì„ íƒ
    const quote = jobQuotes[
      Math.floor(Math.random() * jobQuotes.length)
    ];
    addMessage(quote, 'bot');
  }
  else if (isTooShort) {
    // ì§§ì€ ì…ë ¥ ì‘ë‹µ
    const shortReplies = [
      "ë‹¤ì‹œ ì§‘ì¤‘í•˜ëŸ¬ ê°€ì„¸ìš” ğŸ",
      "ì§§ì€ ë§ì€ ê·¸ë§Œ, ì§‘ì¤‘ ëª¨ë“œë¡œ! ğŸ”",
      "ì¡°ê¸ˆë§Œ ë” ì§‘ì¤‘í•´ë³¼ê¹Œìš”? ğŸ’ª",
      "ì§‘ì¤‘ ì‹œê°„ì´ í•„ìš”í•´ìš” â°",
      "ì´ì•¼ê¸°ëŠ” ë‚˜ì¤‘ì—, ì§‘ì¤‘í•©ì‹œë‹¤! ğŸ¯",
      "ì§‘ì¤‘ë ¥ì„ ë†’ì—¬ë³¼ê¹Œìš”? ğŸš€"
    ];
    const reply = shortReplies[
      Math.floor(Math.random() * shortReplies.length)
    ];
    addMessage(reply, 'bot');
  }
  else {
    // ì¼ë°˜ ìŠ¤ë§ˆíŠ¸ ë‹µë³€
    addMessage(getSmartBotReply(msg), 'bot');
  }
}, 1000 + Math.random() * 1000);
    }




    document.getElementById('chat-send').addEventListener('click', () => {
      const input = document.getElementById('chat-input');
      const msg = input.value.trim();
      if (!msg) return;
      input.value = '';
      handleUserMessage(msg);
    });

    document.querySelectorAll('.chatbot-faq-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        handleUserMessage(btn.textContent);
    });
    });

    document.getElementById('chatbot-toggle').addEventListener('click', () => {
    const bot = document.getElementById('chatbot');
    const hint = document.getElementById('chatbot-hint');

    if (bot.style.display === 'none') {
        // ì±—ë´‡ ì—´ê¸°
        bot.style.display = 'flex';
        document.getElementById('chatbot-toggle').textContent = 'ì±—ë´‡ ë‹«ê¸°';

        // ğŸ§¼ ë§í’ì„  ì˜êµ¬ ì œê±° (ë‹¤ì‹œ ì•ˆ ë³´ì´ê²Œ)
        if (hint) {
        hint.remove();
        }
    } else {
        // ì±—ë´‡ ë‹«ê¸°
        bot.style.display = 'none';
        document.getElementById('chatbot-toggle').textContent = 'ì±—ë´‡ ì—´ê¸°';
    }
    });
    
    

    

// ì‚¬ìš©ë°©ë²• íŒ¨ë„ ì—´ê³  ë‹«ê¸°
const usageToggle = document.getElementById('usage-toggle');
const usagePanel  = document.getElementById('usage-panel');
const closeBtn    = usagePanel.querySelector('.close-btn');

usageToggle.addEventListener('click', () => {
  usagePanel.classList.toggle('open');
});
closeBtn.addEventListener('click', () => {
  usagePanel.classList.remove('open');
});


    

  </script>
  
</body>
</html>
